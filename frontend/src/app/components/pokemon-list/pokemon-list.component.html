<div class="max-w-7xl mx-auto px-6 lg:px-12 pb-24">
  <!-- Hero Section with Featured Pokemon -->
  <section class="relative min-h-[90vh] flex flex-col items-center justify-center pt-20 mb-32 overflow-visible">
    <div class="absolute inset-0 z-0 flex items-center justify-center">
      <div class="w-[600px] h-[600px] bg-purple-900/10 blur-[150px] rounded-full"></div>
    </div>

    @if (featuredPokemon(); as featured) {
      <div class="relative z-10 flex flex-col items-center animate-float">
        <div class="relative">
          <!-- Shadow below pokemon -->
          <div class="absolute bottom-10 left-1/2 -translate-x-1/2 w-[300px] h-[40px] bg-fuchsia-600/20 blur-[30px] rounded-full"></div>
          
          <!-- Featured Pokemon Image -->
          <img 
            [src]="featured.sprites.other['official-artwork'].front_default" 
            alt="Featured Unit" 
            class="w-[380px] md:w-[480px] h-auto relative z-10 brightness-110 saturate-[1.2] drop-shadow-[0_0_40px_rgba(217,70,239,0.5)]"
          />
        </div>
        
        <!-- Logo overlaid on pokemon -->
        <div class="relative -mt-16 md:-mt-24 z-20 select-none pointer-events-none">
          <h1 class="logo-3d text-7xl md:text-[9.5rem] font-black flex items-center tracking-tighter">
            <span class="logo-part-neon block pr-1">Neon</span>
            <span class="logo-part-dex block">Dex</span>
          </h1>
        </div>
      </div>
    }

    <!-- Buttons and Search -->
    <div class="mt-12 relative z-20 w-full max-w-md flex flex-col items-center gap-8">
      <div class="flex gap-4">
        <button 
          (click)="scrollToGrid()"
          class="bg-white/10 backdrop-blur-md border border-white/10 text-white px-8 py-3 rounded-full text-xs font-bold uppercase tracking-widest hover:bg-white/20 transition-all shadow-lg shadow-black/40">
          Discover Species
        </button>
        <button 
          (click)="neuralLink()"
          class="bg-fuchsia-600/20 border border-fuchsia-500/30 text-fuchsia-300 px-8 py-3 rounded-full text-xs font-bold uppercase tracking-widest hover:bg-fuchsia-500/30 transition-all">
          Neural Link
        </button>
      </div>

      <!-- Search Box -->
      <div class="relative w-full">
        <input
          type="text"
          placeholder="Query Identity..."
          [(ngModel)]="searchQuery"
          (input)="onSearchInput()"
          class="w-full bg-black/60 border border-white/10 rounded-full px-14 py-4 text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-fuchsia-500/30 transition-all backdrop-blur-xl text-center tracking-widest uppercase text-xs"
        />
        <svg class="absolute left-6 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="3" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
      </div>
    </div>
  </section>

  <!-- Grid Section -->
  <div class="space-y-12 scroll-mt-32" #gridSection id="database-matrix">
    <div class="flex items-center justify-between">
      <div class="flex flex-col">
        <h2 class="text-xs font-black uppercase tracking-[0.5em] text-slate-500">Biological Database Matrix</h2>
        <span class="text-[10px] text-fuchsia-500/50 font-bold uppercase mt-1">
          Showing units {{offset() + 1}} - {{Math.min(offset() + limit, totalCount())}} of {{totalCount()}}
        </span>
      </div>
      <div class="h-px flex-1 bg-white/5 mx-8"></div>
      <div class="flex gap-4">
        <button 
          [disabled]="offset() === 0"
          (click)="prevPage()" 
          class="p-3 border border-white/10 rounded-full hover:bg-fuchsia-500/10 transition-all text-fuchsia-400 disabled:opacity-20 disabled:cursor-not-allowed group">
          <svg class="w-5 h-5 group-hover:-translate-x-0.5 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path d="M15 19l-7-7 7-7" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round"/>
          </svg>
        </button>
        <button 
          [disabled]="offset() + limit >= totalCount()"
          (click)="nextPage()" 
          class="p-3 border border-white/10 rounded-full hover:bg-fuchsia-500/10 transition-all text-fuchsia-400 disabled:opacity-20 disabled:cursor-not-allowed group">
          <svg class="w-5 h-5 group-hover:translate-x-0.5 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path d="M9 5l7 7-7 7" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round"/>
          </svg>
        </button>
      </div>
    </div>

    @if (loading()) {
      <app-loading-spinner />
    } @else if (error(); as errMsg) {
      <app-error-message [message]="errMsg" />
    } @else {
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 animate-slide-up">
        @for (poke of pokemonList(); track poke.name) {
          <app-pokemon-card [pokemon]="poke" />
        }
      </div>
      
      <div class="pt-12 flex justify-center items-center gap-8">
        <button 
          [disabled]="offset() === 0"
          (click)="prevPage()"
          class="px-8 py-3 rounded-full border border-white/10 text-xs font-bold uppercase tracking-[0.2em] text-slate-400 hover:text-fuchsia-400 hover:border-fuchsia-500/30 transition-all disabled:opacity-20">
          Previous Page
        </button>
        <div class="h-1 w-12 bg-white/10 rounded-full"></div>
        <button 
          [disabled]="offset() + limit >= totalCount()"
          (click)="nextPage()"
          class="px-8 py-3 rounded-full border border-white/10 text-xs font-bold uppercase tracking-[0.2em] text-slate-400 hover:text-fuchsia-400 hover:border-fuchsia-500/30 transition-all disabled:opacity-20">
          Next Page
        </button>
      </div>
    }
  </div>
</div>

<style>
  @keyframes float {
    0% { transform: translateY(0px) scale(1); }
    50% { transform: translateY(-15px) scale(1.01); }
    100% { transform: translateY(0px) scale(1); }
  }
  .animate-float { animation: float 10s ease-in-out infinite; }
  
  .logo-3d {
    text-shadow: 
      0 1px 0 #5b21b6,
      0 2px 0 #4c1d95,
      0 3px 0 #3b0764,
      0 4px 0 #2e1065,
      0 5px 0 #1e1b4b,
      0 6px 0 #111827,
      0 8px 1px rgba(0,0,0,.4),
      0 10px 15px rgba(0,0,0,.6),
      0 15px 25px rgba(0,0,0,.4);
  }

  .logo-part-neon {
    background: linear-gradient(180deg, #7c3aed 0%, #d946ef 60%, #ffffff 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .logo-part-dex {
    color: #ffffff;
  }

  .animate-slide-up {
    animation: slideUp 0.6s ease-out;
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>